@tailwind base;
@tailwind components;
@tailwind utilities;

/* 自定义样式 */
@layer base {
  html {
    @apply scroll-smooth;
  }

  body {
    @apply antialiased;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Arial, sans-serif;
  }

  .app-background {
    background:
      radial-gradient(120% 120% at 10% 0%, rgba(59, 130, 246, 0.08) 0%, rgba(59, 130, 246, 0) 55%),
      radial-gradient(140% 140% at 90% 0%, rgba(16, 185, 129, 0.06) 0%, rgba(16, 185, 129, 0) 50%),
      linear-gradient(180deg, #f8fbff 0%, #ffffff 65%);
  }
}

@layer components {
  .app-shell {
    @apply max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-10;
  }

  .dashboard {
    @apply flex-1 w-full py-10;
  }

  .dashboard-layout {
    @apply w-full;
  }

  .dashboard-content {
    @apply flex flex-col gap-8;
  }

  .dashboard-header {
    @apply flex flex-col gap-4;
  }

  @screen lg {
    .dashboard-header {
      @apply flex-row items-center justify-between;
    }
  }

  .navbar {
    @apply sticky top-0 z-50 bg-white/90 border-b border-white/60 backdrop-blur-lg;
    box-shadow: 0 18px 36px -28px rgba(15, 23, 42, 0.35);
  }

  .brand-badge {
    @apply flex items-center justify-center w-11 h-11 rounded-3xl text-blue-600;
    background: linear-gradient(135deg, #ecf2ff 0%, #dbeafe 100%);
    border: 1px solid rgba(59, 130, 246, 0.22);
    box-shadow: 0 18px 42px -28px rgba(37, 99, 235, 0.6);
  }

  .btn {
    @apply inline-flex items-center gap-2 rounded-xl px-5 py-2.5 font-medium transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-0;
  }

  .btn-primary {
    color: #fff;
    background: linear-gradient(135deg, #2563eb 0%, #4338ca 100%);
    box-shadow: 0 18px 38px -20px rgba(37, 99, 235, 0.75);
  }

  .btn-primary:hover {
    box-shadow: 0 24px 45px -20px rgba(37, 99, 235, 0.78);
    transform: translateY(-1px);
  }

  .btn-primary:active {
    transform: translateY(0);
  }

  .btn-secondary {
    @apply text-gray-600 bg-white border border-gray-200;
    box-shadow: 0 18px 32px -28px rgba(15, 23, 42, 0.2);
  }

  .btn-secondary:hover {
    @apply text-gray-800 border-gray-300;
    box-shadow: 0 24px 38px -28px rgba(15, 23, 42, 0.28);
  }

  .btn-danger {
    color: #fff;
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    box-shadow: 0 18px 36px -24px rgba(239, 68, 68, 0.55);
  }

  .btn-danger:hover {
    box-shadow: 0 24px 42px -22px rgba(239, 68, 68, 0.65);
  }

  .btn-ghost {
    @apply text-gray-600 hover:text-gray-800;
    background: rgba(148, 163, 184, 0.1);
  }

  .btn-icon {
    @apply inline-flex items-center justify-center rounded-xl p-2.5 text-gray-500 transition-all duration-150;
  }

  .btn-icon:hover {
    @apply text-blue-600 bg-blue-50;
    box-shadow: inset 0 0 0 1px rgba(59, 130, 246, 0.12);
  }

  .card-modern {
    @apply relative bg-white rounded-3xl;
    border: 1px solid rgba(148, 163, 184, 0.18);
    box-shadow: 0 28px 55px -35px rgba(30, 64, 175, 0.35);
    transition: box-shadow 0.3s ease, transform 0.3s ease, border-color 0.3s ease;
  }

  .card-modern:hover {
    box-shadow: 0 38px 70px -38px rgba(30, 64, 175, 0.4);
    border-color: rgba(59, 130, 246, 0.25);
    transform: translateY(-2px);
  }

  .card-gradient {
    @apply relative rounded-3xl px-6 py-8 text-gray-500;
    border: 1px dashed rgba(59, 130, 246, 0.25);
    background: linear-gradient(145deg, rgba(59, 130, 246, 0.08), rgba(59, 130, 246, 0.02));
    box-shadow: 0 25px 55px -40px rgba(30, 64, 175, 0.28);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
  }

  .card-gradient:hover {
    border-color: rgba(59, 130, 246, 0.35);
    box-shadow: 0 32px 70px -45px rgba(30, 64, 175, 0.3);
  }

  .surface-card {
    @apply rounded-3xl border border-slate-200/60 bg-white;
    box-shadow: 0 26px 48px -40px rgba(15, 23, 42, 0.35);
  }

  .sidebar-panel {
    @apply p-5 space-y-4;
    position: sticky;
    top: 110px;
  }

  @media (max-width: 1023px) {
    .sidebar-panel {
      position: static;
    }
  }

  .metric-pill {
    @apply flex items-center gap-2 px-4 py-2 rounded-2xl border border-slate-200/70 bg-white/80;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
  }

  .metric-pill__value {
    @apply text-lg font-semibold text-slate-800;
  }

  .metric-pill__label {
    @apply text-xs text-slate-500;
  }

  .insights-grid {
    @apply grid gap-5;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    align-items: stretch;
  }

  .search-card {
    @apply flex items-center gap-4 px-6 py-4;
  }

  .search-card__icon {
    @apply w-6 h-6 text-blue-400;
  }

  .search-card__input {
    @apply flex-1 bg-transparent border-0 shadow-none focus:ring-0 text-base;
  }

  .quick-card {
    @apply px-5 py-4 flex flex-col gap-4;
  }

  .quick-card__title {
    @apply text-sm font-semibold text-slate-700;
  }

  .quick-card__list {
    @apply space-y-3;
  }

  .quick-card__item {
    @apply flex items-center justify-between text-sm text-slate-500;
  }

  .quick-card__value {
    @apply font-semibold text-slate-700;
  }

  .input-modern {
    @apply w-full px-4 py-3 bg-white;
    @apply border border-gray-200 rounded-2xl;
    @apply focus:ring-2 focus:ring-blue-300/60 focus:border-blue-400;
    @apply outline-none transition-all duration-200;
    @apply placeholder:text-gray-400;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
  }

  .select-modern {
    @apply w-full px-4 py-3 bg-white;
    @apply border border-gray-200 rounded-2xl;
    @apply focus:ring-2 focus:ring-blue-300/60 focus:border-blue-400;
    @apply outline-none transition-all duration-200 cursor-pointer;
  }

  .label-modern {
    @apply block text-sm font-medium text-gray-600 mb-1.5;
  }

  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply bg-blue-50 text-blue-600 border border-blue-200;
    box-shadow: inset 0 0 0 1px rgba(59, 130, 246, 0.1);
  }

  .badge-success {
    @apply bg-emerald-50 text-emerald-600 border border-emerald-200;
    box-shadow: inset 0 0 0 1px rgba(16, 185, 129, 0.12);
  }

  .badge-warning {
    @apply bg-amber-50 text-amber-600 border border-amber-200;
    box-shadow: inset 0 0 0 1px rgba(251, 191, 36, 0.12);
  }

  .badge-danger {
    @apply bg-rose-50 text-rose-600 border border-rose-200;
    box-shadow: inset 0 0 0 1px rgba(244, 63, 94, 0.12);
  }

  .category-counter {
    @apply min-w-[32px] text-center px-2.5 py-1 text-xs font-semibold text-blue-600 bg-blue-50 border border-blue-200 rounded-full;
    box-shadow: 0 12px 24px -18px rgba(59, 130, 246, 0.4);
  }

  .sidebar-item {
    @apply relative w-full text-left px-4 py-3 rounded-2xl transition-all duration-200 flex items-center gap-3 border border-transparent text-gray-600;
  }

  .sidebar-item:hover {
    @apply bg-white border-gray-200 text-gray-800;
    box-shadow: 0 14px 28px -26px rgba(15, 23, 42, 0.3);
  }

  .sidebar-item-active {
    @apply bg-white text-blue-600;
    border: 1px solid rgba(59, 130, 246, 0.25);
    box-shadow: 0 22px 45px -28px rgba(37, 99, 235, 0.35);
  }

  .sidebar-item-active::before {
    content: '';
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    width: 6px;
    height: 6px;
    border-radius: 9999px;
    background: linear-gradient(135deg, #2563eb, #3b82f6);
  }

  .task-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(280px, 360px));
    justify-content: flex-start;nt: flex-start;
  }

  .task-item {
    @apply relative flex flex-col justify-between gap-4 rounded-3xl border border-slate-200/60 bg-white/90 px-5 py-5 transition-all duration-200 max-w-[360px] min-h-[240px];
    box-shadow: 0 22px 45px -38px rgba(30, 64, 175, 0.25);
  }

  .task-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 32px 60px -34px rgba(30, 64, 175, 0.32);
  }

  .task-item--disabled {
    @apply opacity-70;
  }

  .task-item__header {
    @apply flex items-start justify-between gap-3;
    min-height: 48px;
  }

  .task-item__primary {
    @apply flex items-start gap-3 min-w-0 flex-1;
  }

  .task-item__text {
    @apply flex-1 min-w-0;
  }

  .task-item__title {
    @apply text-base font-semibold text-slate-900;
  }

  .task-item__desc {
    @apply text-sm text-slate-500 mt-1;
    white-space: nowrap;
  }

  .task-item__meta {
    @apply flex items-center gap-2 flex-shrink-0;
    align-self: flex-start;
    padding-top: 0;
    margin-top: -5px;
  }


  .task-item__actions {
    @apply flex items-center gap-1;
    opacity: 0;
    transition: opacity 0.2s ease;
  }

  .task-item:hover .task-item__actions,
  .task-item:focus-within .task-item__actions {
    opacity: 1;
  }

  @media (max-width: 1023px) {
    .task-item__actions {
      opacity: 1;
    }
  }

  .task-item__timeline {
    @apply relative flex items-stretch gap-4;
  }

  .task-timeline__bar {
    @apply absolute left-3 top-1 bottom-1 w-0.5 bg-gradient-to-b from-blue-200 via-blue-100 to-transparent rounded-full;
  }

  .task-timeline__content {
    @apply flex-1 space-y-2 pl-6 text-sm;
  }

  .task-timeline__row {
    @apply relative grid items-center gap-3 bg-slate-50/70 border border-slate-200 rounded-2xl px-4 py-2;
    grid-template-columns: 48px 1fr;
  }

  .task-timeline__row--accent {
    @apply bg-blue-50/80 border-blue-100;
  }

  .task-timeline__dot {
    @apply absolute left-[-24px] w-3 h-3 rounded-full bg-white border border-blue-300 shadow;
  }

  .task-timeline__row--accent .task-timeline__dot {
    @apply bg-blue-500 border-blue-500 shadow-lg;
  }

  .task-timeline__label {
    @apply text-xs font-semibold text-slate-400 uppercase tracking-wider text-right;
  }

  .task-timeline__value {
    @apply text-sm font-medium text-slate-700 leading-relaxed;
  }

  .task-item--disabled .task-timeline__row {
    @apply opacity-70;
  }

  .empty-card {
    @apply px-8 py-10 flex flex-col items-center gap-4;
  }

  .empty-card__icon {
    @apply inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-50;
  }

  .modal-backdrop {
    @apply fixed inset-0 bg-black/35 backdrop-blur-sm;
    @apply flex items-center justify-center p-4 z-50;
  }

  .modal-content {
    @apply bg-white rounded-3xl border border-white/80;
    @apply max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl;
  }

  .toggle-switch {
    @apply relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-200 cursor-pointer;
    box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.3);
  }

  .toggle-switch-on {
    background: linear-gradient(135deg, #2563eb 0%, #3b82f6 100%);
    box-shadow: inset 0 -1px 0 rgba(255, 255, 255, 0.3);
  }

  .toggle-switch-off {
    background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%);
  }

  .toggle-switch-handle {
    @apply inline-block h-6 w-6 transform rounded-full bg-white shadow;
    @apply transition-transform duration-200 ease-in-out;
  }

  .stat-card {
    @apply relative overflow-hidden rounded-3xl p-5 text-sm;
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(226, 232, 240, 0.45));
    border: 1px solid rgba(148, 163, 184, 0.18);
    box-shadow: 0 30px 60px -40px rgba(15, 23, 42, 0.3);
  }

  .stat-card::after {
    content: '';
    position: absolute;
    right: 24px;
    bottom: -40px;
    width: 160px;
    height: 160px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(59, 130, 246, 0.18) 0%, rgba(59, 130, 246, 0) 70%);
  }

  .search-box {
    @apply relative;
  }

  .search-input {
    @apply w-full pl-12 pr-4 py-3 bg-white;
    @apply border border-white rounded-2xl;
    @apply focus:border-blue-400 focus:ring-2 focus:ring-blue-200/80;
    @apply outline-none transition-all duration-200 placeholder:text-gray-400;
    box-shadow: 0 18px 42px -30px rgba(15, 23, 42, 0.28);
  }

  .search-icon {
    @apply absolute left-5 top-1/2 transform -translate-y-1/2 text-blue-400;
  }

  .toast-card {
    @apply card-modern p-5;
  }

  .fab {
    @apply fixed bottom-6 right-6 w-14 h-14 rounded-full;
    @apply bg-gradient-to-br from-blue-500 to-blue-600 text-white;
    @apply shadow-lg hover:shadow-xl transform hover:scale-110;
    @apply transition-all duration-200 flex items-center justify-center;
    @apply z-40;
  }
}

@layer utilities {
  /* 滚动条样式 */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.gray.300') transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    @apply bg-transparent rounded-full;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
    @apply hover:bg-gray-400 transition-colors;
  }

  /* 文本截断 */
  .text-ellipsis-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* 玻璃态效果 */
  .glass {
    @apply bg-white/70 backdrop-blur-xl;
    @apply border border-white/20;
  }

  .glass-dark {
    @apply bg-gray-900/70 backdrop-blur-xl;
    @apply border border-gray-700/20;
  }

  /* 渐变背景 */
  .bg-gradient-mesh {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #667eea 75%, #764ba2 100%);
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
  }

  @keyframes gradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* 装饰性元素 */
}
