<!-- 侧边栏组件 -->
<aside class="dashboard-sidebar">
  <div class="surface-card sidebar-panel">
    <div class="sidebar-header flex items-center justify-between mb-4">
      <h3 class="font-semibold text-gray-800 flex items-center gap-2">
        <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
        </svg>
        分类
      </h3>
      <button @click="openModal('category')"
              class="text-sm text-blue-500 hover:text-blue-600 font-medium">
        添加
      </button>
    </div>
    <ul class="space-y-1">
      <li>
        <button @click="currentCategory = 'all'"
                class="sidebar-item"
                :class="currentCategory === 'all' ? 'sidebar-item-active' : ''">
          <div class="w-6 h-6 flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
            </svg>
          </div>
          <span class="flex-1 text-left">全部</span>
          <span class="category-counter" x-text="tasks.length"></span>
        </button>
      </li>
      <template x-for="category in categories" :key="category.id">
        <li>
          <div @click="currentCategory = category.id" role="button" tabindex="0"
               class="sidebar-item group"
               :class="currentCategory === category.id ? 'sidebar-item-active' : ''">
            <div class="w-6 h-6 flex items-center justify-center flex-shrink-0">
              <span x-text="category.icon || '📁'" class="text-lg leading-none"></span>
            </div>
            <span class="flex-1 text-left" x-text="category.name"></span>
            <span class="category-counter" x-text="getCategoryTaskCount(category.id)"></span>
            <button @click.stop="editCategory(category)"
                    class="ml-1 opacity-0 group-hover:opacity-100 text-gray-400 hover:text-gray-600 transition-opacity">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
              </svg>
            </button>
          </div>
        </li>
      </template>
    </ul>
  </div>
</aside>
